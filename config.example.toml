# Synapse Configuration
# Copy this file to one of:
#   - ./config.toml (local, highest priority after SYNAPSE_CONFIG env var)
#   - ~/.config/synapse/config.toml (user default)
#
# You can also set SYNAPSE_CONFIG environment variable to a custom path.

# LLM provider to use
# Options: deepseek, anthropic, openai (more providers coming)
provider = "deepseek"

# API key for the selected provider
# You can also use provider-specific environment variables in future phases
# WARNING: Keep this file secure! Run: chmod 600 ~/.config/synapse/config.toml
# api_key = "your-api-key-here"

# Model to use
# DeepSeek: deepseek-chat, deepseek-coder
# Anthropic: claude-3-5-sonnet-20241022, claude-3-opus-20240229
# OpenAI: gpt-4, gpt-4-turbo, gpt-3.5-turbo
model = "deepseek-chat"

# Maximum tokens for LLM responses (default: 4096)
# Higher values allow longer responses but may increase API costs.
# max_tokens = 4096

# System prompt prepended to every LLM conversation.
# This shapes the AI's personality and instructions across all interactions.
# Keep it concise to minimize token usage.
# system_prompt = "You are a helpful programming assistant."

# Alternatively, load the system prompt from an external file.
# Useful for long prompts (Markdown, structured instructions, etc.).
# If both system_prompt and system_prompt_file are set, the inline value wins.
# system_prompt_file = "prompts/system.md"

# Session storage configuration
[session]
# Database URL for session storage
# Can also be set via DATABASE_URL environment variable (takes priority)
# Defaults to sqlite:~/.config/synapse/sessions.db
# database_url = "sqlite:~/.config/synapse/sessions.db"

# Maximum number of sessions to keep (oldest auto-deleted when exceeded)
# Set to 0 or omit for unlimited
max_sessions = 100

# Delete sessions older than this many days
# Set to 0 or omit to keep forever
retention_days = 90

# Enable automatic cleanup of old sessions
# When true: cleanup runs on startup and periodically
auto_cleanup = true

# MCP (Model Context Protocol) server configuration
[mcp]
# Path to MCP servers config file (JSON)
# Can also be set via SYNAPSE_MCP_CONFIG environment variable (takes priority)
# Defaults to ~/.config/synapse/mcp_servers.json
# config_path = "mcp_servers.json"

# Telegram bot configuration
# [telegram]
# Bot token â€” can also be set via TELEGRAM_BOT_TOKEN env var (takes priority)
# WARNING: Never commit your bot token! Use the env var for production deployments.
# token = "123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11"
#
# Telegram user IDs allowed to interact with the bot.
# An empty list (or omitting this field) rejects ALL users (secure by default).
# To find your Telegram user ID, message @userinfobot on Telegram.
# allowed_users = [123456789, 987654321]

# Logging configuration (file-based output with rotation)
# Omit this section entirely to disable file logging (stdout only).
# [logging]
# Directory to write log files to (relative or absolute path)
# directory = "logs"
#
# Maximum number of rotated log files to keep (oldest deleted when exceeded)
# max_files = 7
#
# Rotation strategy: "daily", "hourly", or "never"
# rotation = "daily"
